version: '3.7'
services:
  baltic_cron:
    build: .
    environment:
      - BALTIC_PRIVATE_KEY=3d8019ba1693c328ec55d013d5684041e7e6b6f5d4d5536b780ca38922fb0594
      - BALTIC_CONTRACT_ADDRESS=0x049B54F717b22897f64Cbc1C9E8D4CB5bcECDb6as
      - BALTIC_W3_HTTP_PROVIDER=https://endpoints.omniatech.io/v1/matic/mainnet/public
      - BALTIC_CONTRACT_ABI=[{"inputs":[{"internalType":"address","name":"_WBTC","type":"address"},{"internalType":"address","name":"_WETH","type":"address"},{"internalType":"address","name":"_MATIC","type":"address"},{"internalType":"address","name":"_alternativeToken","type":"address"},{"internalType":"address","name":"_pool","type":"address"},{"internalType":"address","name":"_router","type":"address"},{"internalType":"uint256","name":"_tradingLeverage","type":"uint256"},{"internalType":"uint256","name":"_maticAmount","type":"uint256"},{"internalType":"uint256","name":"_alternativeTokenAmount","type":"uint256"},{"internalType":"uint256","name":"_maticAlternativeAmount","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"IsApproved","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"WBTC","outputs":[{"internalType":"contract ERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"WETH","outputs":[{"internalType":"contract ERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"WMATIC","outputs":[{"internalType":"contract ERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"alternativeToken","outputs":[{"internalType":"contract ERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"alternativeTokenAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"userAddress","type":"address"}],"name":"balwap","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"fetchPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maticAlternativeAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maticAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"payReg","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"pool","outputs":[{"internalType":"contract IUniswapV3Pool","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"registeredUsers","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"router","outputs":[{"internalType":"contract ISwapRouter","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"newAmount","type":"uint256"}],"name":"setAlternativeMaticAmount","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"newAmount","type":"uint256"}],"name":"setAlternativeTokenAmount","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"newAmount","type":"uint256"}],"name":"setMaticAmount","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"tradingLeverage","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"users","outputs":[{"internalType":"uint256","name":"registrationTime","type":"uint256"},{"internalType":"uint256","name":"initialWbtcBalance","type":"uint256"},{"internalType":"uint256","name":"lastTradePrice","type":"uint256"},{"internalType":"bool","name":"isFirstTime","type":"bool"},{"internalType":"bool","name":"isActive","type":"bool"}],"stateMutability":"view","type":"function"}]
      - BALTIC_OWNER_PUBLIC_KEY_ADDRESS=0xe93E152E4eaeFF5D05Bbb842353C560496Ba0040
    command: bash -c 'python3 balwap.py'
    restart: always
    